#!name = 黑科技
#!desc = 解锁限制等(随时失效)
#!openUrl = https://github.com/IC58G/vpn_tool
#!author = IC58G
#!homepage = https://github.com/IC58G/vpn_tool/tree/main/Resource/Plugin
#!icon = https://gitlab.com/lodepuly/iconlibrary/-/raw/main/App_icon/120px/Loon.png
#!date = 2023-05-02
# > ──────────────────────────────────────────────────分───────────────────割─────────────────────线───────────────────────────────────────────────────────────────────────────────────────
[Rewrite]
# > 去广告
^https?:\/\/ad.*\.xima.*\.com - reject
# > 莫名收集
^https?:\/\/.+\.xima.*\.com\/collector\/xl\/v\d - reject
# > 位置信息
^https?:\/\/.+\.xima.*\.com\/mobile\/discovery\/v\d\/location - reject

[Script]
# > 顶部tab优化
http-response ^https?:\/\/.+\.xima.*\.com\/discovery-category\/customCategories script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/xmly.vip.js, requires-body=true, timeout=60, tag=xmly.vip

# > 详情页底部推荐广告
http-response ^https?:\/\/.+\.xima.*\.com\/mobile-playpage\/playpage\/recommendContentV2 script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/xmly.vip.js, requires-body=true, timeout=60, tag=xmly.vip

# > 首页横幅
http-response ^https?:\/\/.+\.xima.*\.com\/focus-mobile\/focusPic script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/xmly.vip.js, requires-body=true, timeout=60, tag=xmly.vip

# > 顶部banner过滤广告
http-response ^https?:\/\/.+\.xima.*\.com\/mobile-category\/v1\/category\/page\/queryCategoryPageData script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/xmly.vip.js, requires-body=true, timeout=60, tag=xmly.vip

# > 个人中心
http-response ^https?:\/\/.+\.xima.*\.com\/mobile-user\/v2\/homePage script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/xmly.vip.js, requires-body=true, timeout=60, tag=xmly.vip

# > 列表解锁
http-response ^https?:\/\/.+\.xima.*\.com\/(product\/detail\/v1|mobile\/v1\/album\/track) script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/xmly.vip.js, requires-body=true, timeout=60, tag=xmly.vip

# > 音质解锁
http-response ^https?:\/\/.+\.xima.*\.com\/mobile-playpage\/playpage\/track\/qualityAndEffect script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/xmly.vip.js, requires-body=true, timeout=60, tag=xmly.vip

# > 播放按钮解锁
http-response ^https?:\/\/.+\.xima.*\.com\/mobile-playpage\/playpage\/tabs\/v2 script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/xmly.vip.js, requires-body=true, timeout=60, tag=xmly.vip

# > 详情页会员媒体解锁（不包含vip儿童、付费）
http-response ^https?:\/\/.+\.xima.*\.com\/mobile-playpage\/track\/v\d\/\w+\/ts-\d+ script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/xmly.vip.js, requires-body=true, timeout=60, tag=xmly.vip

[MITM]
hostname = mobile*.xima*.com, ad*.ximalaya.com, *.xima*.com, 61.172.194.*, 180.153.*.*, 180.153.255.*, 180.153.140.*, 180.153.250.*, 114.80.99.*, 114.80.139.2*, 61.162.174.*, 119.188.123.*, 59.83.227.*, 120.222.238.146, 120.223.241.*, 120.223.252.*, 120.222.152.124, 114.80.161.29, 1.62.62.64, 1.194.255.171, 23.236.99.89, 36.99.200.135, 42.81.4.198, 42.81.26.128, 42.81.120.58, 43.132.80.77, 43.132.83.175, 43.132.84.11, 43.152.24.12, 43.152.24.18, 43.152.25.127, 43.152.29.38, 43.175.16.34, 43.175.22.25, 43.175.44.15, 49.7.69.197, 49.51.224.95, 101.33.11.32, 101.33.11.106, 101.33.20.34, 101.33.29.110, 103.105.60.99, 140.249.84.135, 140.249.85.189, 150.109.90.80, 150.109.91.35, 150.138.47.94, 150.138.136.145, 203.205.136.87, 203.205.136.100, 203.205.136.102, 203.205.136.159, 203.205.137.27, 203.205.137.87, 203.205.137.241, 203.205.250.111, 203.205.250.113, 211.152.137.25
# > ──────────────────────────────────────────────────分───────────────────割─────────────────────线───────────────────────────────────────────────────────────────────────────────────────
[Script]
#^https?:\/\/lv-biz-api-\w+\.ulikecam\.com\/commerce\/v1\/(subscription\/user_info|purchase\/draft_unlock|effect\/check_effects) url script-analyze-echo-response http://192.168.10.3:5501/VIP/Scripts/jianying/source/jianying.vip.js
http-request ^https?:\/\/lv-biz-api-\w+\.ulikecam\.com\/commerce\/v1\/(subscription\/user_info|purchase\/draft_unlock|effect\/check_effects) script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/jianying.vip.js, requires-body=true, timeout=60, tag=jianying.vip

[MITM]
hostname = api3-lq.faceu.mobi, lv-api-lq.ulikecam.com, lv-api-sinfonlinea.ulikecam.com, lv-biz-api-sinfonlinea.ulikecam.com, lv*api*.ulikecam.com
# > ──────────────────────────────────────────────────分───────────────────割─────────────────────线───────────────────────────────────────────────────────────────────────────────────────
[Script]
http-request ^https?:\/\/newdrugs\.dxy\.cn\/app\/(clinical-decision\/v3\/content|user\/(pro\/stat|pro\/old-pro-discount\/check)|guide\/pdf\/download-url\/\d+) script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/yyzs.vip.js, requires-body=true, timeout=60, tag=yyzs.vip

http-response ^https?:\/\/newdrugs\.dxy\.cn\/app\/user\/basic-info\? script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/yyzs.vip.js, requires-body=true, timeout=60, tag=yyzs.vip

[MITM]
hostname = newdrugs.dxy.cn
# > ──────────────────────────────────────────────────分───────────────────割─────────────────────线───────────────────────────────────────────────────────────────────────────────────────
[Rewrite]
# 首页弹出框
^https:\/\/msgapi\.caixin\.com\/msg_api\/annmsg\/annlist - reject-dict
# 广告样式
^https:\/\/gateway\.caixin\.com\/api\/app-api\/cxAdInfo\/selectIndexAdInfo - reject-dict
^https:\/\/mappsv5\.caixin\.com\/channelv5\/article_ad_ios_info\.json - reject-dict
# 文章中间推广,文章底部相关阅读
^https:\/\/gg\.caixin\.com\/s\?z=caixin&slot=\d+ - reject-dict
# 财新数据通
^https:\/\/entities\.caixin\.com\/api\/(dataplus\/promotionHints|public\/push\/appIndex|public\/recommendNews) - reject-dict

[Script]
# 开屏广告,文章顶部banner
http-response ^https:\/\/gg\.caixin\.com\/s\?z=caixin&op=\d script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

http-response ^https:\/\/mappsv5\.caixin\.com\/articlev5\/\d+\/\d+\.json script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

http-response ^https:\/\/mapps?v5\.caixin\.com\/(channelv5\/list|\/?index_page_v5\/)\w+ script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 财新fm
http-response ^https:\/\/gateway\.caixin\.com\/api\/app-content\/fm\/index\/list\? script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

http-response ^https:\/\/entities\.caixin\.com\/api\/dataplus\/columns script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 解锁会员
http-request ^https:\/\/gateway\.caixin\.com\/api\/app-api\/auth\/(groupImageValidate|validate|validateAudioAuth) script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 个人中心
http-response ^https?:\/\/gateway\.caixin\.com\/api\/app-api\/userAuth\/getUserPowerCard script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 数据通pro => 财新数据 => 数据工具/深度专题
http-response https?:\/\/deepview-dynamic\.caixin\.com\/api\/topic\/config\/(topic|event) script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 数据通pro => 财新指数
http-response ^https?:\/\/cxdata.caixin.com\/api\/public\/auth\/index script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 数据通pro => 经济数据 => 中国、世界
http-request ^https?:\/\/ceic.caixin.com\/api\/data\/layout\?pid= script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 数据通pro => 经济数据 => 其他国家
http-request ^https?:\/\/ceic.caixin.com\/api\/data\/search\?keyword= script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 数据通pro => 经济数据 => CEIC财新数据、精选资讯
http-request ^https?:\/\/ceic.caixin.com\/api\/data\/\w+ script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 数据通pro => 投资机会
http-request ^https?:\/\/cxdata.caixin.com\/opp2\/(subjects|opportunities)\/\w+ script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 数据通pro => 企业库
http-request ^https?:\/\/entities\.caixin\.com\/api\/companies\/\d+\/(partners|investments|staffs|changerecs|develophis) script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

# 数据通pro => 人物库
http-request ^https?:\/\/entities\.caixin\.com\/api\/persons\/\d+\/(parship|auth_companys|history) script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/caixin.vip.js, requires-body=true, timeout=60, tag=caixin.vip

[MITM]
hostname = entities.caixin.com, g*.caixin.com, mapps*.caixin.com, ceic.caixin.com, cxdata.caixin.com, deepview-dynamic.caixin.com
# > ──────────────────────────────────────────────────分───────────────────割─────────────────────线───────────────────────────────────────────────────────────────────────────────────────
[Script]
# ^https?:\/\/api\.qwdjapp\.com\/(auth\/login\/mobile|user\/personal\/information|app\/drama\/page) url script-response-body http://192.168.10.4:5501/VIP/Scripts/rrtv/rrtv.vip.js	#^https?:\/\/api\.(qwdjapp.com|qwapp.top)\/(user\/personal\/information|app\/drama\/page) url script-response-body http://192.168.68.166:5501/VIP/Scripts/rrtv/source/rrtv.vip.js
http-response ^https?:\/\/api\.(qwdjapp.com|qwapp.top|rrtv.mobi)\/(auth\/login\/mobile|user\/personal\/information|app\/drama\/page) script-path=https://gist.githubusercontent.com/Yuheng0101/71bf245d9cf06f4dde9465554697ea9c/raw/rrtv.vip.js, requires-body=true, timeout=60, tag=rrtv.vip

[MITM]
hostname = api.qwdjapp.com, api.qwapp.top, api.rrtv.mobi
# > ──────────────────────────────────────────────────分───────────────────割─────────────────────线───────────────────────────────────────────────────────────────────────────────────────